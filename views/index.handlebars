<div id="wrapper">
    {{> nav }}
    {{> menu-btn }}

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
          {{> hero }}

            <!-- Main page content -->

            <!--Test Button For Adding New Posts. Can be deleted later-->
{{!--             <button class='glyphicon glyphicon-plus' id='newPostBtn' data-target="#newPostModal" data-toggle="modal"></button> --}}

            <!-- Horizontal galleries -->
            {{#each category}}
              <div class="row category-gallery-wrapper animated fadeInUp">
                <a href='/category/{{this.id}}'>
                  <div class="category-tab" id={{this.id}}>
                    <h4>{{this.name}}</h4>
                  </div>
                </a>

                  <!-- Gallery Horizontal Scroll buttons -->
                  <div class="gallery-scroll-wrapper">
                    <a class="gallery-scroll-btn gallery-scroll-left">
                      <div class="scroll-btn-div">
                        <span class="glyphicon glyphicon-triangle-left" arira-hidden="true"></span>
                      </div>
                    </a>

                    <a class="gallery-scroll-btn gallery-scroll-right">
                      <div class="scroll-btn-div">
                        <span class="glyphicon glyphicon-triangle-right" arira-hidden="true"></span>
                      </div>
                    </a>

                  <!-- Gallery Horizontal Scroll buttons -->
                    <div class="gallery-img-div">
                    {{#each Posts}}
                    {{!-- Leave id declaration here --}}
                      <div class="item-img-div" id={{this.id}}>
                        <a class="collect-btn-link">
                          <div class="collectr-btn" data-dismiss="modal" data-img="{{this.img_path}}" data-owner="{{this.owner_id}}" data-target="#openCollectModal" data-toggle="modal">
                            <img src="/assets/images/collectr-logo.svg" />
                            <span class="collectr-save">save</span>
                          </div>
                        </a>
                        <a>
                          <img src={{this.img_path}} data-target="#openPostModal{{this.id}}" data-toggle="modal"/>
                        </a>
                      </div>

                    {{/each}}

                    </div>

                  </div>

              </div>

            {{/each}}
            <!-- Horizontal galleries -->

              <!-- Wide feature div-->
              <a href="#">
                <div class="row blur-background" id="feature-pokemon">
                  <div class="wide-feature">
                    <h3>Discover:</h3>
                    <h1>Pokemon</h1>
                  </div>
                </div>
              </a>
              <!-- Wide feature div-->

            <!-- Main page content -->
        </div>
    </div>
    <!-- /#page-content-wrapper -->
</div>
<!-- /#wrapper -->

{{!-- Begin Clicked Post Modal --}}
{{#each category}}
  {{#each Posts}}
      <div class="modal fade postModal" id="openPostModal{{this.id}}" tabindex="-1" role="dialog" aria-labelledby="openPostModalLabel{{this.id}}" aria-hidden="true" style="z-index: 20000;">

        <div class="modal-dialog" role="document">

          <div class="modal-content">

              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
                  <h4 class="modal-title" id="postModalLabel">{{this.description}}</h4>
              </div>

              <div class="modal-body">
                <form id="clickedPostForm">

                    <div class="form-group">
                        <img class="postImage" src='{{this.img_path}}' style='width: 100%; height: auto;'>
                    </div>

                    <div class="form-group">
                        <label for="tags" id="tagsFor{{this.id}}">Tags</label>

                        {{#each Post2Tags}}
                            {{#with Tag}}
                            {{!-- <a href='/tag/{{this.id}}'> --}}
                            <div class="tagDiv">
                              <a href="#">
                                <span>{{this.name}}</span>
                              </a>
                            </div>
                            {{/with}}
                        {{/each}}

                    </div>

                    <div class="form-group">
                          <label for="likeDislike" class="form-control-label">Like/Dislike</label>
                          <button class='glyphicon glyphicon-heart' value={{this.id}} data-name={{this.upVote}} id='likeBtn'><span> {{this.upVote}}</span></button>
                          <button class='glyphicon glyphicon-thumbs-down' value={{this.id}} data-name={{this.downVote}} id='dislikeBtn'><span>{{this.downVote}}</span></button>
                    </div>

                    <div class="form-group">
                          <label for="collect" class="form-control-label">Collect</label>
                          <button class='glyphicon glyphicon-pushpin' id='collectBtn' data-dismiss="modal" data-img="{{this.img_path}}" data-owner="{{this.owner_id}}" data-id="{{this.id}}"data-target="#openCollectModal" data-toggle="modal"></button>
                    </div>

                    <div class="form-group">
                          <label for="userID">User</label>
                          <a href="/user/{{this.user_id}}">
                            {{#with User}}
                            <p>{{this.email}}</p>
                            {{/with}}
                          </a>
                    </div>

                    <div class="form-group">
                          <label for="categoryID">Category</label>
                          <a href="/category/{{this.category_id}}">
                            {{#with Category}}
                              <p>{{this.name}}</p>
                            {{/with}}
                          </a>
                    </div>

                </form>
              </div>

              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>

          </div>

        </div>

      </div>
  {{/each}}
{{/each}}
{{!-- End Clicked Post Modal --}}

{{!-- Begin New Post Modal --}}

    <div class="modal fade" id="newPostModal" tabindex="-1" role="dialog" aria-labelledby="newPostModalLabel">

        <div class="modal-dialog" role="document">

          <div class="modal-content">

              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="newPostClose">
                      <span aria-hidden="true">&times;</span>
                  </button>
                  <h4 class="modal-title" id="newPostModalLabel">Add To My Collection</h4>

              </div>

              <div class="modal-body">

                  <form id="newPostForm">

                    <div class="form-group">
                      <label for="itemDescription">Item Description</label>
                      <input type="text" class="form-control" id="itemDescription" placeholder="Describe Your Item...">
                    </div>

                    <div class="form-group">
                      <label for="itemTags">Tag Your Treasure</label>
                      <input type="text" class="form-control" id="itemTags" placeholder="Ex: cute, cool, fun">
                    </div>

                    <div class="form-group">
                      <label for="postPicture">Upload Item Image</label>
                      <input type="file" id="itemImageUpload"><br>
                      <img id="newPostImage" src="" height="200" alt="Image preview..." name="postpic">
                    </div>

                    <div class="form-group">
                      <label for="categorySelection">Select Category: </label>
                      <select class="form-control" id="newPostCategory">
                        <option selected="true" disabled="disabled" value='Category...'></option>
                      {{#each category}}
                        <option value={{this.id}}>{{this.name}}</option>
                      {{/each}}
                      </select>
                    </div>
                  </form>

                  <div class="modal-footer">
                      <button type="button" class="btn btn-danger" data-dismiss="modal" id="newPostModalCloseBtn">Close</button>
                      <button type="submit" class="btn btn-success" id="newPostSubmit">Collect!</button>
                  </div>

               </div>

          </div>

        </div>

    </div>

{{!-- End New Post Modal --}}

{{!-- Begin 'Collect' Modal --}}
{{#each category}}
  {{#each Posts}}
      <div class="modal fade" id="openCollectModal" tabindex="-1" role="dialog" aria-labelledby="openCollectModalLabel" aria-hidden="true" style="z-index: 20000;">

        <div class="modal-dialog" role="document">

          <div class="modal-content">

              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" id="collectClose" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
                  <h4 class="modal-title" id="collectModalLabel">Collect Me!</h4>
              </div>

              <div class="modal-body">
                <form id="collectPostForm">

                    <div class="form-group">
                      <label for="itemCollectDescription">Item Description</label>
                      <input type="text" class="form-control" id="itemCollectDescription" placeholder="Describe Your Find...">
                    </div>

                    <div class="form-group">
                        <img class="collectImage" src='{{this.img_path}}' style='width: 100%; height: auto;'>
                    </div>

                    <div class="form-group">
                      <label for="collectItemTags">Tag Your Discovery</label>
                      <input type="text" class="form-control" id="collectItemTags" placeholder="Ex: cute, cool, fun">
                    </div>

                    <div class="form-group">
                      <label for="ownerID">Owner</label>
                        <a>
                        {{#with User}}
                          <p>{{this.email}}</p>
                        {{/with}}
                        </a>
                    </div>

                </form>
              </div>

              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal" id="collectBtnModalClose">Close</button>
                  <button type="submit" class="btn btn-success" id="collectPostSubmit" data-owner={{this.owner_id}} data-img={{this.img_path}} data-category={{this.category_id}}>Collect!</button>
              </div>

          </div>

        </div>

      </div>
  {{/each}}
{{/each}}
{{!-- End 'Collect' Modal --}}
